name: AIM Bot push-deployment

on:
  push:
    branches: [ main ]
  workflow_dispatch:

jobs:
  deployment:
    runs-on: ubuntu-latest
    steps:
    - name: 🔗 Connect to VPS
      run: |
        ssh -tt ${{ secrets.VPS_HOST }}
        ${{ secrets.VPS_PASSWORD }}
    - name: 🚚 Get Latest Code
      run: |
        git pull
    - name: ♻️ Update requirements
      run: |
        python3 -m pip install --upgrade pip
        pip install -r requirements.txt
    - name: 🚀 Deploy AIM-Bot
      run: pyton3 main.py
